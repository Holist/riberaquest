<div class="container-fluid" id="userbadgeshow">
  <div class="row" id="header-background">
    <div class="col-12 mb-5">
      <h1 id="title"><%= @userbadge.badge.name %></h1>
      <p>Objectifs :</p>
    </div>
  </div>

  <div class="row" id="badges-cards">
    <% @userbadge.badge.objectives.each do |objective| %>
      <div class="col-12 d-flex mt-2 mb-1 justify-content-between badge-card accordion">
        <div class="d-flex flex-column justify-content-end badge-card-details">
          <p class="badge-card-name"><%= objective.name %></p>
        </div>
        <div class="d-flex align-items-center text-center mr-5">
          <i class='fa fa-check-circle-o objective-done'></i>
        </div>
        <!-- class undone for undone css -->
      </div>
      <div class="col-12 objective-decription ml-3">
        <p class="objective-decription-content mb-3"><%= objective.description  %></p>
        <button type="button" class="btn btn-info">J'ai réalisé ce défi !</button>
      </div>
    <% end %>
  </div>
</div>

<script>

$(function() {
  $('.objective-decription').hide();
  $('.accordion').click(function() {
    $('.objective-decription').hide();
    $(this).next().slideToggle('slow').siblings('div:invisible').slideUp('slow');
  });
})();

</script>
